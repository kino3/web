<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />
<link rel="stylesheet" href="doc-styles.css" type="text/css"/>
<title>Movable Typeユーザー・マニュアル: Movable Typeの読み込みフォーマット</title>
</head>

<body>
<h1 id="__index__">Movable Typeユーザー・マニュアル: Movable Typeの読み込みフォーマット</h1>
<p><a href="mtmanual.html">&laquo; 目次</a></p>
<ul>
	<li><a href="#name">名称</a></li>
	<li><a href="#synopsis">要約</a></li>
	<li><a href="#description">説明</a>
	<ul>
		<li><a href="#metadata">メタデータ</a></li>
		<li><a href="#multiline_fields">複数行フィールド</a></li>
	</ul>
	</li>
	<li><a href="#example">例</a></li>
</ul>
<hr />

<h2><a name="name"></a>名称</h2>
<p>mtimport - Movable Typeの読み込みフォーマット</p>
<hr />

<h2><a name="synopsis"></a>要約</h2>
<p>このドキュメントでは、Movable Typeのデータの取り込みで必要とされるフォーマットについて説明します。このメカニズムを使うと、他のコンテンツ管理システム(CMS)からエントリーやコメントを読み込めます。</p>
<hr />

<h2><a name="description"></a>説明</h2>
<p>基本の読み込みフォーマットは、<em> --------\n </em>  (「<em> - </em> 」の8文字と改行コード)の文字列によって区切られたエントリーのリストから成ります。 各エントリーは2つの主要なセクションから成り、各セクションは、<em> -----\n </em>  (「<em> - </em> 」の5文字と改行コードの文字列によって区切られます。</p>
<p>読み込むデータにHTMLが含まれている場合は、HTMLエンコードを<strong>使用しないでください。</strong>読み込みファイルのデータはMovable Typeのデータベースにそのままの形式で読み込まれます。 したがって、読み込むデータは、新しいエントリーを作成するときに入力するデータとまったく同じ形式にしてください。</p>
<ul>
	<li><strong><a name="item_metadata"></a>メタデータ</strong></li>
	<li><strong><a name="item_fields"></a>複数行フィールド(Body(本文)、Extended Body(追記の本文)、Excerpt(概要)、Comments(コメント))</strong></li>
</ul>
<p>後述の「<a href="#example">例</a>」にある短い読み込みファイル例をご覧ください。</p>

<h2><a name="metadata"></a>メタデータ</h2>
<p>メタデータの単位は、<em> KEY: VALUE </em> の形式で表され、各メタデータは改行コードによって区切られます。 一つ一つのメタデータの順序は重要ではありません。</p>
<p>例：</p>
<pre>
AUTHOR: Foo Bar
TITLE: A dummy title
DATE: 01/31/2002 03:31:05 PM
CATEGORY: News
</pre>
<ul>
<li><strong><a name="item_author"></a>AUTHOR:</strong>
<p>エントリーの著者。著者の名前が読み込み先に存在しない場合は、新しい<em> MT::Author </em> レコードが作られ、その著者は、エントリーの読み込み先であるブログへの投稿権限を割り当てられます。 そしてエントリーがその新しい著者に割り当てられます。 著者が存在する場合、エントリーはその既存の著者に割り当てられます。このメタデータは、読み込む前に「<em> エントリーの投稿者を自分にする </em> 」チェックボックスをチェックした場合は無視されますが、それ以外の場合は必要です。</p></li>
<li><strong><a name="item_title"></a>TITLE:</strong>
<p>エントリーのタイトル。タイトルを指定しない場合は、タイトルが、エントリー本文の最初の数文字から自動的に生成されます。このメタデータはオプションです。</p></li>
<li><strong><a name="item_date"></a>DATE:</strong>
<p>エントリーが作成された日時。これは<em> MM/DD/YYYY hh:mm:ss AM|PM </em> のフォーマットで表されます。 <em> AM|PM </em> はオプションで、それがない場合、<em> hh </em> は24時間制で表されます。このメタデータは必須です。</p></li>
<li><strong><a name="item_primary_category"></a>PRIMARY CATEGORY:</strong>
<p>エントリーに割り当てられるメイン・カテゴリー。カテゴリー名が読み込み先に存在しない場合は、新しい<em> MT::Category </em> レコードが作られ、エントリーがその新しいカテゴリーに割り当てられます。カテゴリー名が存在する場合、エントリーはその既存のカテゴリーに割り当てられます。</p></li>
<li><strong><a name="item_category"></a>CATEGORY:</strong>
<p>エントリーに割り当てられるサブ・カテゴリー。複数の<em> CATEGORY </em> キーをメタデータ・セクションに記述することができ、それぞれがサブ・カテゴリーを指定します。</p>
<p>例：</p>
<pre>CATEGORY: Foo
CATEGORY: Bar</pre>
<p>カテゴリー名が読み込み先に存在しない場合は、新しい<em> MT::Category </em> レコードが作られ、エントリーがその新しいカテゴリーに割り当てられます。 カテゴリー名が存在する場合、エントリーはその既存のカテゴリーに割り当てられます。</p>
<p><em> PRIMARY CATEGORY </em> で指定されたカテゴリーが、<em> CATEGORY </em> としても指定されている場合、そのカテゴリーはサブ・カテゴリーのリストから自動削除され、メイン・カテゴリーとして設定されます。</p>
<p><em> PRIMARY CATEGORY </em> を指定せず、<em> CATEGORY </em> を使って1つ以上、サブ・カテゴリーを指定した場合は、最初の<em> CATEGORY </em> がサブ・カテゴリーではなくメイン・カテゴリーとして使用されます。</p></li>
<li><strong><a name="item_status"></a>STATUS:</strong>
<p>エントリーの投稿の状態。有効な値は、<em> draft </em> または<em> publish </em> のどちらかです。</p></li>
<li><strong><a name="item_allow_comments"></a>ALLOW COMMENTS:</strong>
<p>エントリーの"allow comments(コメントの許可)"フラグの値。有効な値は、<em> 0 </em> または<em> 1 </em> のどちらかです。</p></li>
<li><strong><a name="item_allow_pings"></a>ALLOW PINGS:</strong>
<p>エントリーの"allow pings(PINGの許可)"フラグの値。有効な値は、<em> 0 </em> または<em> 1 </em> のどちらかです。</p></li>
<li><strong><a name="item_convert_breaks"></a>CONVERT BREAKS:</strong>
<p>エントリーの"convert breaks(改行の変換)"フラグの値。有効な値は、<em> 0 </em> または<em> 1 </em> のどちらかです。</p></li>
<li><strong><a name="item_no_entry"></a>NO ENTRY:</strong>
<p>エントリーはすべて読み込んだが、コメントは読み込んでいないシステムのデータを読み込む際に使用される特別のキー。このキーを使用するときには、<em> DATE </em> キーが必要です。このメタデータは、コメントに関連するエントリーを調べるために使用します。タイムスタンプが一致するエントリーが存在しなければ、コメントは読み込まれません。 このメタデータを使う機会はあまりありません。</p>
<p>使用例：</p>
<pre>
NO ENTRY: 1
</pre>
</li>
</ul>

<h2><a name="multiline_fields"></a>複数行フィールド</h2>
<p>複数行フィールドは、<em> -----\n </em>  (「<em> - </em> 」の5文字と改行コード)の文字列によって区切られています。 複数行フィールドはそれぞれ、フィールドの型を表示するキーで始まり、その後に改行コード、フィールドの実際の本文、の順で続きます。</p>
<p>例：</p>
<pre>
BODY:
これは本文です。
-----
EXTENDED BODY:
ここに本文の追記が表示されます。
-----
COMMENT:
AUTHOR: Foo
DATE: 01/31/2002 15:47:06
ここに
このコメントの本文が来ます。
-----
PING:
TITLE: Foo Bar
URL: <a href="http://www.foo.com/baz/archives/000015.html">http://www.foo.com/baz/archives/000015.html</a>
DATE: 08/05/2002 04:05:23 PM
ここに
pingしたトラックバックの概要がきます。
-----
</pre>
<ul>
<li><strong><a name="item_body"></a>BODY:</strong> 
<p>エントリーの本文。</p></li>
<li><strong><a name="item_extended_body"></a>EXTENDED BODY:</strong>
<p>エントリーの本文への追記。</p></li>
<li><strong><a name="item_excerpt"></a>EXCERPT:</strong> 
<p>エントリーの概要。</p></li>
<li><strong><a name="item_comment"></a>COMMENT:</strong>
<p>このエントリーに対する1つのコメントを示します。 複数の<em> COMMENT </em> セクションを表示することも可能です。その際、各セクションは標準の複数行フィールド・セパレータ(<em> -----\n </em> )によって区切られます。</p>
<p><em> COMMENT </em> セクションでは以下のフィールドが使用可能です。</p> 
<ul>
	<li><strong>AUTHOR:</strong><p>コメントの著者名。</p></li>
	<li><strong>EMAIL:</strong><p>コメントの著者の電子メールアドレス。</p></li>
	<li><strong>URL:</strong><p>コメントの著者のURL。</p></li>
	<li><strong>IP:</strong><p>コメントの著者のIPアドレス。</p></li>
	<li><strong>DATE:</strong><p>コメントが投稿された日時。 これは上記の<em> DATA </em> メタデータ・キーと同じフォーマットにする必要があります。</p></li>
</ul>
<p>上記のキーのうち、どれとも一致しない行から、コメントの本文が始まります。この行から<em> COMMENT </em> セクションの終わりまでを、コメントの本文として扱います。 この説明が分かりにくい場合は、後述の「<a href="#example">例</a>」を参照してください。</p>
</li>
<li><strong><a name="item_ping"></a>PING:</strong>
<p>このエントリーに対する1つのトラックバックを示します。複数の<em> PING </em> セクションを表示することも可能です。その際、各セクションは標準の複数行フィールド・セパレータ(<em> -----\n </em> )によって区切られます。</p>
<p><em> PING </em> セクションでは以下のフィールドが使用可能です。</p>

<ul>
<li><strong>TITLE:</strong><p>このpingのタイトル。</p></li> 
<li><strong>URL:</strong><p>オリジナル・エントリーへのURL。</p></li> 
<li><strong>IP:</strong><p>pingを送ったサーバーのIPアドレス。</p></li> 
<li><strong>BLOG NAME:</strong><p>pingの送信元のブログの名前。</p></li> 
<li><strong>DATE:</strong><p>pingが送られた日時。 これは上記の<em> DATA </em> メタデータ・キーと同じフォーマットにする必要があります。</p></li>
</ul>
<p>上記のキーのうち、どれとも一致しない行からpingの概要が始まります。この行から<em> PING </em> セクションの終わりまでを、pingの概要として扱います。 この説明が分かりにくい場合は、後述の「<a href="#example">例</a>」を参照してください。</p>
</li>
</ul>
<hr />

<h2><a name="example"></a>例</h2>
<pre>
TITLE: A dummy title
AUTHOR: Foo Bar
DATE: 01/31/2002 03:31:05 PM
PRIMARY CATEGORY: Media
CATEGORY: News
-----
BODY:
これは本文です。
-----
EXTENDED BODY:
ここに追記の本文が表示されます。
-----
COMMENT:
AUTHOR: Foo
DATE: 01/31/2002 15:47:06
ここに
このコメントの本文が来ます。
-----
COMMENT:
AUTHOR: Bar
DATE: 02/01/2002 04:02:07 AM
IP: 205.66.1.32
EMAIL: me@bar.com
これは2番目の
コメントです。 これは
ここまで来ます。
-----
PING:
TITLE: My Entry
URL: <a href="http://www.foo.com/old/2002/08/">http://www.foo.com/old/2002/08/</a>
IP: 206.22.1.53
BLOG NAME: My Weblog
DATE: 08/05/2002 16:09:12
これがMy Entryの
始まりで、以下続きます。
-----
--------
TITLE: ここに新しいエントリーが来ます。
AUTHOR: Baz Quux
DATE: 01/31/2002 03:31:05
CATEGORY: Politics
-----
BODY:
これは2番目のエントリーの本文です。 これは
複数行から成ります。
-----
EXCERPT:
このエントリーは追記がありませんが、
概要はあります。 特殊な例です。
-----
COMMENT:
AUTHOR: Quux
URL: <a href="http://www.quux.com/">http://www.quux.com/</a>
DATE: 01/31/2002 04:23:01 PM
このエントリーに対する最初のコメントを示します。
-----
--------
</pre>
<hr />

<span class="copyright">Copyright &copy; 2001-2005 Six Apart, Ltd. All Rights Reserved.</span>
</body>
</html>
